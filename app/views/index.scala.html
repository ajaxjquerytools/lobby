@(message: String)

@main("Welcome to BAAS") {

    <div class="container" data-bind="template: { name: tplName }"></div>

    <script type="text/html" id="login_view">
        <h3>Login view</h3>
        <h5>Please Login:</h5>
        <div class="alert alert-danger" data-bind="visible: !loginCreds.username.isValid()" role="alert">
             <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
             <span class="sr-only">Error:</span>
              Enter login please
        </div>
        <input type="text" class="form-control span3" data-bind="value:loginCreds.username" placeholder="Login">
        <button data-bind="click: onLoginClick">login</button>
    </script>

    <script type="text/html" id="game_view">
        <h3>Games</h3>
        <div class="span3">Users</div>
        <div class="span4">Games</div>


        <div class = "container">
        <h4>Messages received:</h4>
        <ul class="list-group" data-bind="foreach: messages">
        <li class="list-group-item small">
        <span class="col-lg-2" data-bind="text: $data.time.toLocaleTimeString()"></span>
        <span class="col-lg-8" data-bind="text: JSON.stringify($data.eventData)"></span>
        </li>
        </ul>

        <h4>Players:</h4>
            <ul class="list-group" data-bind="foreach: onlineUsers">
                <li><span data-bind="text: username"></span><button class="btn-sm" data-bind="click: onInviteClick">invite</button></li>
            </ul>
        </div>



    </script>

    <script type="text/html" id="invites_view">
        <h3>Invites</h3>

    </script>


    <script type="text/javascript" charset="utf-8">

    console.log("@routes.Application.wsmessage.webSocketURL(request)")

    var ws = new ReconnectingWebSocket("@routes.Application.wsmessage.webSocketURL(request)")
    ws.onmessage = function(event){
            viewModel.eventDispatcher.dispatch(event)
    }

    </script>
}
